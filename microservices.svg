<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="821px" height="1171px" viewBox="-0.5 -0.5 821 1171" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-05-22T20:28:35.165Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Safari/537.36&quot; etag=&quot;W1G1ONB6cZAgYriUk-a2&quot; version=&quot;13.1.3&quot; type=&quot;github&quot; pages=&quot;2&quot;&gt;&lt;diagram id=&quot;vP-kHJmLFm4Uj2iFX2sr&quot; name=&quot;IntroMicroservices&quot;&gt;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&lt;/diagram&gt;&lt;diagram id=&quot;6MsyKnurDGz_ccnhXwfp&quot; name=&quot;IntroDocker&quot;&gt;lZHLDoIwEEW/pkuTQlV0jfiKJiYuWDd0pE0Kg7UG8OvFFMTGja46PXPnTVhcNBvDK3lEAZqEVDSErUgYBpSG3fMirSPLiDqQGyV60QjO6gFDZE/vSsDNE1pEbVXlwwzLEjLrMW4M1r7sgtqvWvEcvsA54/qbpkpY6ehiRke+BZXLoXI3sfMUfBD34Ca5wPoDsYSw2CBaZxVNDPq1vGEvaXnamX19CK4tVGkyzeb7aOKSrf8JeY9goLS/pu6MsbXu4x2YJU8=&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/#Hclementsjj%2Fgraphics%2Fmaster%2Fmicroservices.svg"><defs/><g><rect x="330" y="150" width="480" height="570" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 157px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Sign into GCP<br />Enable Compute Engine API &amp; Kubernetes Engine API<br />Open Google Cloud Shell<br /><br />Create 2 sessions and run <br /><br /><b><font color="#990099">#...Shell 1<br /></font></b>gcloud compute zones list<br />gcloud config set compute/zone us-east1-b<br /><br />wget https://storage.googleapis.com/golang/go1.6.2.linux-amd64.tar.gz<br />sudo rm -rf /usr/local/go<br />sudo tar -C /usr/local -xzf go1.6.2.linux-amd64.tar.gz<br />echo "export GOPATH=~/go" &gt;&gt; ~/.bashrc<br />source ~/.bashrc<br /><br />mkdir -p $GOPATH/src/github.com/udacity<br />cd $GOPATH/src/github.com/udacity<br />git clone https://github.com/udacity/ud615<br />cd ud615/app<br /><br />mkdir bin<br />cd monolith<br />go get -u<br />cd ..<br />go build -o ./bin/monolith .monolith<br /><br />sudo ./bin/monolith -http :10080<br /><br /><b style="color: rgb(153 , 0 , 153)">#... Shell 2<br /></b><font color="#a680b8"># Test the Server<br /></font>curl http://127.0.0.1:10080<br /><font color="#a680b8"># Responds with {"message":"Hello"}<br /></font>curl http://127.0.0.1:10080/secure<br /><font color="#a680b8"># Responds with "authorization failed"<br /></font><br />TOKEN=$(curl http://127.0.0.1:10080/login -u user |  jq -r '.token')<br />echo $TOKEN<br /><br />curl -H "Authorization: Bearer $TOKEN" http://127.0.0.1:10080/secure</div></div></div></foreignObject><text x="332" y="169" fill="#000000" font-family="Helvetica" font-size="12px">Sign into GCP...</text></switch></g><path d="M 330 233.57 L 294.88 204.09" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 290.86 200.72 L 298.47 202.54 L 294.88 204.09 L 293.97 207.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="130" width="280" height="140" rx="21" ry="21" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 278px; height: 1px; padding-top: 137px; margin-left: 12px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">- Download latest go package<br />- Delete current go dir<br />- Unzip new go package in /usr/local<br />- Set the go path to a new folder in home dir<br />- GOPATH must be set in order to get, build, and install packages. It should point to workspace, not go installation.<br /></div></div></div></foreignObject><text x="12" y="149" fill="#000000" font-family="Helvetica" font-size="12px">- Download latest go package...</text></switch></g><rect x="130" y="380" width="160" height="30" rx="4.5" ry="4.5" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 395px; margin-left: 131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Download code</div></div></div></foreignObject><text x="210" y="399" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Download code</text></switch></g><path d="M 328.56 389.4 L 296.3 394.08" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 291.11 394.84 L 297.53 390.37 L 296.3 394.08 L 298.54 397.3 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="430" width="240" height="180" rx="27" ry="27" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 238px; height: 1px; padding-top: 437px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><b>Build Monolith App</b><br />- go get adds dependiencies to current module and installs them<br />- `go get` downloads and saves in $GOPATH/src/&lt;import&gt;, then executes go install, compared to go install which skips the part with downloading packages, and just compiles. After running go get, you should see bin and pkg added the GOPATH.<br />- build compiles but does not install</div></div></div></foreignObject><text x="2" y="449" fill="#000000" font-family="Helvetica" font-size="12px">Build Monolith App...</text></switch></g><path d="M 326.64 480.6 L 245.8 517.36" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 241.02 519.54 L 245.94 513.45 L 245.8 517.36 L 248.84 519.83 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="330" y="750" width="480" height="420" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 757px; margin-left: 332px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">#...Breakdown Monolith into Microservices<br /><font color="#990099"><b>#... Shell 1<br /></b></font>go build -o ./bin/hello ./hello<br />sudo ./bin/hello -http 0.0.0.0:10082<br /><b><font color="#990099">#... Shell 2<br /></font></b>go build -o ./bin/auth ./auth<br />sudo ./bin/auth -http :10090 -health :10091<br /><b><font color="#990099">#... Shell 3<br /></font></b>TOKEN=$(curl 127.0.0.1:10090/login -u user | jq -r '.token')<br />curl -H "Authorization: Bearer $TOKEN" http://127..0.0.1:10082/secure<br /></div></div></div></foreignObject><text x="332" y="769" fill="#000000" font-family="Helvetica" font-size="12px">#...Breakdown Monolith into Microservices...</text></switch></g><rect x="330" y="0" width="260" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 258px; height: 1px; padding-top: 20px; margin-left: 331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Most actions will be done from ~/go/src/github.com/udacity</div></div></div></foreignObject><text x="460" y="24" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Most actions will be done from ~/go/src/git...</text></switch></g><rect x="330" y="50" width="490" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 488px; height: 1px; padding-top: 80px; margin-left: 331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Can run with: <br />curl http://</div></div></div></foreignObject><text x="575" y="84" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Can run with:...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>